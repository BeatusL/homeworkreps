#Core #Battle #Система #Событие

### Описание

Система дающая возможность одному существу Атаковать другое.

### Реализация

#### Условия
- Атакующее Существо [[00. Накормлено|Ненакормлено]].
- Существо может атаковать если оно ещё не атаковало в этой фазе.
- Существо которое атакуют не имеет Свойств, которые не позволяют атаковать это существо (Например Норное.)

#### Процесс
ПРИМЕР 0.0.1
1. Когда к игроку переходит его [[00. Ход]], на Поле существа которыми он может атаковать подсвечиваются (небольшой эффект свечения по краю карты), остальных существ можно сделать некликабельными, отслеживание по тэгу. .
2. Игрок, решив каким существом он хочет атаковать, нажимает на существо ЛКМ.
3. Курсор игрока приобретает красный цвет ИЛИ заменяется на другую агрессивную иконку показывающую, что игрок перешёл в режим Атаки.
4. Существа противника, которые могут быть атакованы, согласно выше упомянутым условиям, подсвечиваются (такой же эффект как при выборе Атакующего существа).
5. Игрок нажимает ЛКМ на существо, которое выбрал для атаки.
6. Происходит анимация атаки, Например атакующая карта вылетает со своей позиции и сталкивается с Атакуемой, с характерным звуком и эффектом отлетающих частиц. После чего возвращается на своё место.
7. Игра проверяя Свойства Атакующего и Атакуемого существа, решает была ли атака успешной или нет.
8. Если атака Была успешной:
   - Атакованное существо теряет 2+Х единиц жизни, если оно выжило после Атаки, Атакующее существо получает 2 единицы еды и теряет 0+Y жизней.
   - Атакованное существо теряет 2+Х единицы жизни, если оно НЕ выжило после Атаки, Атакующее существо получает 3 единицы и теряет еды 0+Y жизней.
   - Х и Y зависят от свойств Атакующего и Атакованного существ.
   - Если атаковавшему существу для того чтобы стать  [[00. Накормлено|накормленным]] необходимо Меньше еды чем оно получает, излишек отправляется в [[00. Банк Еды]].
   - Атаковавшее существо В эту Фазу Боя больше не может атаковать.
9. Если атака НЕ была успешной:
   - Атакующее существо получает 0+Х Еды, а также теряет 0+Y здоровья, Атакованное существо теряет 0+Z единиц здоровья. (X, Y, Z зависят от активных свойств Атакующего и Атакованного существ)
   - В зависимости от активных свойств Атакующего и Атакованного существ, Атаковавшее существо может или не может атаковать в Эту Фазу питания ещё раз(по умолчанию за 1 фазу питания существо может атаковать 2 раза)
10. После Атаки если существо Атаковавшее или Атакованное умирает (здоровье равно нулю), существо попадает на [[00. Кладбище]].
11. Все текущие эффекты и анимации заканчиваются и Ход переходит к следующему игроку.
